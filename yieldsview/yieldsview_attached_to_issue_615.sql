drop view if exists yieldsview;
create view yieldsview as select yields.id as yield_id, yields.citation_id, yields.site_id, yields.treatment_id, sites.sitename as site, sites.city, sites.lat, sites.lon,  species.scientificname, species.genus, citations.author as author, citations.year as cityear, treatments.name as trt, date, month(date) as month, year(date) as year, mean, n, statname, stat, yields.notes, users.name as user, planting, seeding from yields join sites on yields.site_id = sites.id join species on yields.specie_id = species.id join citations on yields.citation_id = citations.id join treatments on yields.treatment_id = treatments.id join users on yields.user_id = users.id join mgmtview on yields.id = mgmtview.yield_id;
